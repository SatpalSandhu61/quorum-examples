
a = eth.accounts[0]
web3.eth.defaultAccount = a;

var escrowerc721ContractAbi = web3.eth.contract([{"constant":false,"inputs":[{"name":"_existingContract","type":"address"},{"name":"_pass","type":"string"}],"name":"freeFromEscrow","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"testConnection","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[{"name":"_existingContract","type":"address"},{"name":"_name","type":"string"},{"name":"_balance","type":"uint256"}],"name":"createLoan","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_passcode","type":"string"},{"name":"_id","type":"uint256"}],"name":"setParams","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"}]);

var escrowerc721ContractBytecode = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061084c806100606000396000f300608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630ad2571f146100645780633412a15c146101055780636b83420c14610134578063886ed6b4146101df575b005b34801561007057600080fd5b506100eb600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506102aa565b604051808215151515815260200191505060405180910390f35b34801561011157600080fd5b5061011a610495565b604051808215151515815260200191505060405180910390f35b34801561014057600080fd5b506101c5600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192908035906020019092919050505061049e565b604051808215151515815260200191505060405180910390f35b3480156101eb57600080fd5b50610290600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190505050610643565b604051808215151515815260200191505060405180910390f35b600061034f60038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156103455780601f1061031a57610100808354040283529160200191610345565b820191906000526020600020905b81548152906001019060200180831161032857829003601f168201915b5050505050610750565b6000191661035c83610750565b60001916141561048a578273ffffffffffffffffffffffffffffffffffffffff1660405180807f7472616e736665725f746f6b656e2875696e743235362c616464726573732900815250601f01905060405180910390207c01000000000000000000000000000000000000000000000000000000009004600454600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001925050506000604051808303816000875af192505050151561048157600080fd5b6001905061048f565b600090505b92915050565b60006001905090565b60008373ffffffffffffffffffffffffffffffffffffffff1660405180807f6372656174654c6f616e28737472696e672c616464726573732c75696e74323581526020017f3629000000000000000000000000000000000000000000000000000000000000815250602201905060405180910390207c0100000000000000000000000000000000000000000000000000000000900484600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16856040518463ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180848051906020019080838360005b838110156105b0578082015181840152602081019050610595565b50505050905090810190601f1680156105dd5780820380516001836020036101000a031916815260200191505b508373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200193505050506000604051808303816000875af192505050151561063857600080fd5b600190509392505050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156107435784600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555083600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550826003908051906020019061073292919061077b565b508160048190555060019050610748565b600090505b949350505050565b6000606082905060008151141561076d5760006001029150610775565b602083015191505b50919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106107bc57805160ff19168380011785556107ea565b828001600101855582156107ea579182015b828111156107e95782518255916020019190600101906107ce565b5b5090506107f791906107fb565b5090565b61081d91905b80821115610819576000816000905550600101610801565b5090565b905600a165627a7a72305820af403dd25eb914ea69f1cc4cff62e0e1c014db24ac5014bc834d9652bf06b4010029";

var escrowerc721Contract = escrowerc721ContractAbi.new({from:web3.eth.accounts[0], data: escrowerc721ContractBytecode, gas: 0x47b760}, function(e, contract) {
        if (e) {
                console.log("err creating contract", e);
        } else {
                if (!contract.address) {
                        console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
                } else {
                        console.log("Contract mined! Address: " + contract.address);
                        console.log(contract);
                }
        }
});

